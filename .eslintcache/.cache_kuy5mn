[{"D:\\Programming\\Zotero\\zotero-cita\\src\\citation.ts":"1","D:\\Programming\\Zotero\\zotero-cita\\src\\citations.ts":"2","D:\\Programming\\Zotero\\zotero-cita\\src\\components\\button.ts":"3","D:\\Programming\\Zotero\\zotero-cita\\src\\crossref.ts":"4","D:\\Programming\\Zotero\\zotero-cita\\src\\dialogs\\editor\\index.ts":"5","D:\\Programming\\Zotero\\zotero-cita\\src\\dialogs\\identifier-importer\\index.ts":"6","D:\\Programming\\Zotero\\zotero-cita\\src\\dialogs\\preferences\\index.ts":"7","D:\\Programming\\Zotero\\zotero-cita\\src\\extract.ts":"8","D:\\Programming\\Zotero\\zotero-cita\\src\\index.ts":"9","D:\\Programming\\Zotero\\zotero-cita\\src\\itemWrapper.ts":"10","D:\\Programming\\Zotero\\zotero-cita\\src\\localCitationNetwork.ts":"11","D:\\Programming\\Zotero\\zotero-cita\\src\\matcher.ts":"12","D:\\Programming\\Zotero\\zotero-cita\\src\\oci\\index.ts":"13","D:\\Programming\\Zotero\\zotero-cita\\src\\oci\\lookup.ts":"14","D:\\Programming\\Zotero\\zotero-cita\\src\\opencitations.ts":"15","D:\\Programming\\Zotero\\zotero-cita\\src\\progress.ts":"16","D:\\Programming\\Zotero\\zotero-cita\\src\\sourceItemWrapper.ts":"17","D:\\Programming\\Zotero\\zotero-cita\\src\\wikicite.ts":"18","D:\\Programming\\Zotero\\zotero-cita\\src\\wikiciteChrome.ts":"19","D:\\Programming\\Zotero\\zotero-cita\\src\\wikidata.ts":"20"},{"size":12199,"mtime":1673795045454,"results":"21","hashOfConfig":"22"},{"size":32945,"mtime":1670159639036,"results":"23","hashOfConfig":"22"},{"size":176,"mtime":1666216094029,"results":"24","hashOfConfig":"22"},{"size":385,"mtime":1673213090600,"results":"25","hashOfConfig":"22"},{"size":1633,"mtime":1666216094039,"results":"26","hashOfConfig":"22"},{"size":842,"mtime":1666216094039,"results":"27","hashOfConfig":"22"},{"size":512,"mtime":1670159639042,"results":"28","hashOfConfig":"22"},{"size":339,"mtime":1666216094039,"results":"29","hashOfConfig":"22"},{"size":577,"mtime":1666216094039,"results":"30","hashOfConfig":"22"},{"size":7777,"mtime":1673794519549,"results":"31","hashOfConfig":"22"},{"size":10412,"mtime":1670159639043,"results":"32","hashOfConfig":"22"},{"size":13383,"mtime":1673792557296,"results":"33","hashOfConfig":"22"},{"size":3928,"mtime":1673795102183,"results":"34","hashOfConfig":"22"},{"size":19510,"mtime":1666216094044,"results":"35","hashOfConfig":"22"},{"size":624,"mtime":1666216094044,"results":"36","hashOfConfig":"22"},{"size":1809,"mtime":1666216094044,"results":"37","hashOfConfig":"22"},{"size":31131,"mtime":1673794519549,"results":"38","hashOfConfig":"22"},{"size":9291,"mtime":1673793471077,"results":"39","hashOfConfig":"22"},{"size":2820,"mtime":1670159639047,"results":"40","hashOfConfig":"22"},{"size":50977,"mtime":1673793113781,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":3,"source":"45"},"u5hj7y",{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":2,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":1,"fixableWarningCount":1,"source":null},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":2,"source":null},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":5,"source":null},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":3,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":1,"fixableWarningCount":0,"source":null},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":9,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":7,"fixableWarningCount":2,"source":null},"D:\\Programming\\Zotero\\zotero-cita\\src\\citation.ts",["103","104","105","106","107","108","109","110"],[],"import Wikicite, { debug } from './wikicite';\r\nimport Wikidata, { CitesWorkClaim } from './wikidata';\r\nimport ItemWrapper from './itemWrapper';\r\nimport SourceItemWrapper from './sourceItemWrapper';\r\nimport Matcher from './matcher';\r\nimport OCI from './oci';\r\nimport Progress from './progress';\r\n\r\ndeclare const Zotero: any;\r\n\r\n/** Class representing a citation */\r\nclass Citation {\r\n    source: SourceItemWrapper;\r\n    target: ItemWrapper;\r\n    ocis: OCI[];\r\n\r\n    /**\r\n     * Create a citation.\r\n     * @param {Object} citation - A Citation literal.\r\n     * @param {Zotero.Item} citation.item - The citation's target item literal.\r\n     * @param {string} citation.item.key - The citation's target item key, if linked to\r\n     *   an item in the library.\r\n     * @param {Array} ocis - Array of OpenCitations OCIs.\r\n     *   this citation.\r\n     * @param {Zotero.Item} sourceItem - The citation's source item.\r\n     */\r\n    constructor(\r\n        {\r\n            item,\r\n            ocis,\r\n            zotero,\r\n        }: {\r\n            item: any,\r\n            ocis: string[],\r\n            zotero: string,\r\n        },\r\n        // index,  // knowing the index in the citationList may be important\r\n        sourceItem: SourceItemWrapper  // should the parent CitationList (with its source item and methods to save) be passed instead?\r\n    ) {\r\n        // Fixme: improve type checking of the citation object passed as argument\r\n        if (!item || !ocis) {\r\n            throw new Error('Missing item, OCIs, or Zotero key fields!');\r\n        }\r\n\r\n        // this.index = index;\r\n        this.source = sourceItem;\r\n\r\n        if (item instanceof Zotero.Item) {\r\n            this.target = new ItemWrapper(\r\n                item,\r\n                this.source.saveCitations.bind(this.source)\r\n            );\r\n        } else {\r\n            if (!item.itemType) {\r\n                // use a default item type if it was not provided in the target item literal\r\n                // fix: move this default value out to another file or module\r\n                item.itemType = 'journalArticle';\r\n            }\r\n            this.target = new ItemWrapper(\r\n                new Zotero.Item(item.itemType),\r\n                this.source.saveCitations.bind(this.source)\r\n            );\r\n            this.target.fromJSON(item);\r\n        }\r\n\r\n        this.ocis = [];\r\n        ocis.forEach((oci) => this.addOCI(oci));\r\n\r\n        // zotero item key the target item of this citation is linked to\r\n        this.target.key = zotero;\r\n\r\n        // Issue: Save and upload information about citations order\r\n        // this.series_ordinal;\r\n        // // crosref does provide a citation key which seems to have some ordinal information\r\n        // // but I say to leave this out for now\r\n    }\r\n\r\n    addCreator(creatorType, creatorName) {\r\n        // I may limit author types to author and editor\r\n    }\r\n\r\n    addOCI(oci: string) {\r\n        const { citingId, citedId, idType, supplier } = OCI.parseOci(oci);\r\n\r\n        // commented out because not really needed (yet) and was causing\r\n        // that pids could not be cleared, because they would be refilled\r\n        // when addOCI was invoked from the constructor\r\n        // // if source or target items do not have pid of type idType,\r\n        // // use the one derived from the oci provided\r\n        // if (!this.source[idType]) this.source[idType] = citingId;\r\n        // if (!this.target[idType]) this.target[idType] = citedId;\r\n\r\n        // recalculate OCI and compare against OCI given\r\n        let newOci = '';\r\n        try {\r\n            newOci = OCI.getOci(supplier.name, this.source[idType], this.target[idType]);\r\n        } catch {\r\n            //\r\n        }\r\n        let valid;\r\n        if (oci === newOci) {\r\n            valid = true;\r\n        } else {\r\n            valid = false;\r\n        }\r\n\r\n        // overwrite pre-existing oci of the same supplier\r\n        if (this.getOCI(supplier)) {\r\n            debug('Overwritting OCI of supplier ' + supplier);\r\n            this.removeOCI(supplier);\r\n        }\r\n\r\n        this.ocis.push({\r\n            citingId: citingId,\r\n            citedId: citedId,\r\n            idType: idType,\r\n            oci: oci,\r\n            supplier: supplier,\r\n            valid: valid\r\n        });\r\n    }\r\n\r\n    /*\r\n     * Delete citation from Wikidata\r\n     */\r\n    async deleteRemotely() {\r\n        let success;\r\n        const wikidataOci = this.getOCI('wikidata')\r\n        if (wikidataOci && wikidataOci.valid) {\r\n            try {\r\n                // fetch cites work statements\r\n                const claims = await Wikidata.getCitesWorkClaims(this.source.qid);\r\n                const pushClaims = {};\r\n                pushClaims[this.source.qid] = claims[this.source.qid].reduce(\r\n                    (pushClaims, claim) => {\r\n                        // keep those which want to be deleted\r\n                        if (claim.value === this.target.qid) {\r\n                            // create CitesWorkClaim objects from them\r\n                            const pushClaim = new CitesWorkClaim(claim);\r\n                            // and update them to pending remove status\r\n                            pushClaim.remove = true;\r\n                            pushClaims.push(pushClaim);\r\n                        }\r\n                        return pushClaims;\r\n                }, [])\r\n                // pass them to updateCitesWorkClaims to upload changes\r\n                const results = await Wikidata.updateCitesWorkClaims(pushClaims);\r\n                success = Object.values(results).every((result) => result === 'ok')\r\n            } catch (err) {\r\n                // fail if citation could not be deleted remotely\r\n                // do not fail if it couldn't be deleted because it doesn't exist\r\n                throw err;\r\n            }\r\n        } else {\r\n            // fix: better handle this. Do I have a debugger?\r\n            // Located string in a console message?\r\n            throw new Error('Cannot sync deletion of citation not available in Wikidata.');\r\n        }\r\n        return success;\r\n    }\r\n\r\n    getOCI(supplier: {\r\n        prefix: string;\r\n        name: string;\r\n        id: string;\r\n    }) {\r\n        const ocis = this.ocis.filter((oci) => oci.supplier === supplier);\r\n        if (ocis.length > 1) {\r\n            throw new Error('Unexpected multiple OCIs for supplier ' + supplier);\r\n        }\r\n        return ocis[0];\r\n    }\r\n\r\n    removeOCI(supplier: {\r\n        prefix: string;\r\n        name: string;\r\n        id: string;\r\n    }) {\r\n        this.ocis = this.ocis.filter((oci) => oci.supplier !== supplier);\r\n    }\r\n\r\n    /**\r\n     * Return a JSON object to save to the source item extra field.\r\n     */\r\n    toJSON() {\r\n        // const item = this.target.item.toJSON();\r\n        // delete item.version;\r\n        // delete item.tags;\r\n        // delete item.collections;\r\n        // delete item.relations;\r\n\r\n        return {\r\n            // item: item,\r\n            item: this.target.toJSON(),\r\n            ocis: this.ocis.map((oci) => oci.oci),\r\n            zotero: this.target.key\r\n        }\r\n    }\r\n\r\n    sync() {\r\n        // upload this and only this citation to wikidata\r\n        // check if both this.sourceItem and this.item have qid\r\n        // do not proceed if this.suppliers includes wikidata already\r\n        // use Wikidata.getCitations(this.sourceItem) to see if it's already uploaded\r\n        // if not, use Wikidata.addCitation(this.sourceItem.qid, this.item.qid)\r\n        // add wikidata to this.suppliers\r\n        // how do I save changes to sourceItem extra field now?\r\n        // I need access to the parent CitationList\r\n    }\r\n\r\n    /**\r\n     * Automatically link citation with matching Zotero item\r\n     * @param {Object} [matcher] Initialized Matcher object for batch operations\r\n     */\r\n    async autoLink(matcher) {\r\n        let manual = false;\r\n        let progress;\r\n        if (!matcher) {\r\n            // If a Matcher object was not provided, create a new one\r\n            matcher = new Matcher(this.source.item.libraryID);\r\n            // Only in this case, be verbose\r\n            progress = new Progress(\r\n                'loading',\r\n                Wikicite.getString('wikicite.citation.auto-link.progress.loading')\r\n            )\r\n            await matcher.init();\r\n            manual = true;\r\n        }\r\n        const matches = matcher.findMatches(this.target.item);\r\n        let item;\r\n        if (matches.length) {\r\n            // Automatic linking succeeded\r\n            if (progress) progress.updateLine(\r\n                'done',\r\n                Wikicite.getString('wikicite.citation.auto-link.progress.success')\r\n            );\r\n            // if multiple matches, use first one\r\n            item = Zotero.Items.get(matches[0]);\r\n        } else if (manual) {\r\n            // Automatic linking failed: select manually\r\n            if (progress) progress.updateLine(\r\n                'error',\r\n                Wikicite.getString('wikicite.citation.auto-link.progress.failure')\r\n            );\r\n            const result = Services.prompt.confirm(\r\n              window,\r\n              Wikicite.getString('wikicite.citation.auto-link.failure.title'),\r\n              Wikicite.getString('wikicite.citation.auto-link.failure.message')\r\n            );\r\n            if (result) item = Wikicite.selectItem();\r\n\r\n            // ignore selection if another citation already links to the same item\r\n            if (\r\n                item &&\r\n                this.source.citations.some(\r\n                    (citation) => citation.target.key === item.key\r\n                )\r\n            ) {\r\n                Services.prompt.alert(\r\n                    null,\r\n                    \"\",\r\n                    Wikicite.getString('wikicite.citation.link.error.duplicate')\r\n                );\r\n                item = undefined;\r\n            }\r\n        }\r\n        if (progress) progress.close()\r\n        if (item) {\r\n            this.linkToZoteroItem(item);\r\n        }\r\n    }\r\n\r\n    // link the citation target item to an item in the zotero library\r\n    linkToZoteroItem(item) {\r\n        if (item === this.source.item) {\r\n            Services.prompt.alert(\r\n                null,\r\n                \"\",\r\n                Wikicite.getString('wikicite.citation.link.error.source-item')\r\n            );\r\n            return;\r\n        }\r\n\r\n        if (item.libraryID !== this.source.item.libraryID) {\r\n            Services.prompt.alert(\r\n                null,\r\n                \"\",\r\n                Wikicite.getString('wikicite.citation.link.error.library')\r\n            );\r\n            return;\r\n        }\r\n\r\n        // this.source.newRelations ||= this.source.item.addRelatedItem(item);\r\n        this.source.newRelations = (\r\n            this.source.item.addRelatedItem(item) ||\r\n            this.source.newRelations\r\n        );\r\n        if (item.addRelatedItem(this.source.item)) {\r\n            item.saveTx({\r\n                skipDateModifiedUpdate: true\r\n            });\r\n        }\r\n\r\n        this.target.key = item.key;\r\n        this.source.saveCitations();\r\n    }\r\n\r\n    unlinkFromZoteroItem(autosave=true) {\r\n        // other citations link to the same item\r\n        const otherLinks = this.source.citations.some(\r\n            (citation) => (\r\n                citation !== this &&\r\n                citation.target.key === this.target.key\r\n            )\r\n        );\r\n        const linkedItem = Zotero.Items.getByLibraryAndKey(\r\n            this.source.item.libraryID,\r\n            this.target.key\r\n        );\r\n        if (linkedItem && !otherLinks) {\r\n            this.source.newRelations = (\r\n                this.source.item.removeRelatedItem(linkedItem) ||\r\n                this.source.newRelations\r\n            );\r\n            if (linkedItem.removeRelatedItem(this.source.item)) {\r\n                linkedItem.saveTx({\r\n                    skipDateModifiedUpdate: true\r\n                });\r\n            }\r\n        }\r\n        this.target.key = undefined;\r\n        if (autosave) this.source.saveCitations();\r\n    }\r\n\r\n    resolveOCI(supplier) {\r\n        const oci = this.getOCI(supplier);\r\n        if (oci) {\r\n            OCI.resolve(oci.oci);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Citation;\r\n","D:\\Programming\\Zotero\\zotero-cita\\src\\citations.ts",["111","112","113","114","115","116","117","118","119","120","121","122"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\components\\button.ts",[],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\crossref.ts",["123"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\dialogs\\editor\\index.ts",["124"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\dialogs\\identifier-importer\\index.ts",["125"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\dialogs\\preferences\\index.ts",["126"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\extract.ts",[],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\index.ts",["127","128","129"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\itemWrapper.ts",["130","131","132","133"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\localCitationNetwork.ts",[],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\matcher.ts",[],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\oci\\index.ts",["134","135","136","137","138","139"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\oci\\lookup.ts",[],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\opencitations.ts",["140"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\progress.ts",[],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\sourceItemWrapper.ts",["141","142","143","144","145","146","147","148"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\wikicite.ts",["149"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\wikiciteChrome.ts",["150","151"],[],"D:\\Programming\\Zotero\\zotero-cita\\src\\wikidata.ts",["152","153","154","155","156","157","158","159","160","161","162","163"],[],{"ruleId":"164","severity":1,"message":"165","line":5,"column":1,"nodeType":"166","messageId":"167","endLine":5,"endColumn":33},{"ruleId":"168","severity":1,"message":"169","line":9,"column":23,"nodeType":"170","messageId":"171","endLine":9,"endColumn":26,"suggestions":"172"},{"ruleId":"173","severity":1,"message":"174","line":14,"column":5,"nodeType":"175","messageId":"176","endLine":14,"endColumn":25,"fix":"177"},{"ruleId":"173","severity":1,"message":"174","line":15,"column":5,"nodeType":"175","messageId":"176","endLine":15,"endColumn":17,"fix":"178"},{"ruleId":"179","severity":1,"message":"180","line":31,"column":19,"nodeType":"181","messageId":"182","endLine":31,"endColumn":20,"fix":"183"},{"ruleId":"168","severity":1,"message":"169","line":33,"column":19,"nodeType":"170","messageId":"171","endLine":33,"endColumn":22,"suggestions":"184"},{"ruleId":"185","severity":1,"message":"186","line":78,"column":16,"nodeType":"187","messageId":"188","endLine":78,"endColumn":27},{"ruleId":"185","severity":1,"message":"189","line":78,"column":29,"nodeType":"187","messageId":"188","endLine":78,"endColumn":40},{"ruleId":"164","severity":1,"message":"165","line":2,"column":1,"nodeType":"166","messageId":"167","endLine":2,"endColumn":46},{"ruleId":"185","severity":1,"message":"190","line":19,"column":28,"nodeType":"187","messageId":"188","endLine":19,"endColumn":35},{"ruleId":"185","severity":1,"message":"190","line":24,"column":28,"nodeType":"187","messageId":"188","endLine":24,"endColumn":35},{"ruleId":"185","severity":1,"message":"191","line":24,"column":37,"nodeType":"187","messageId":"188","endLine":24,"endColumn":44},{"ruleId":"185","severity":1,"message":"192","line":29,"column":31,"nodeType":"187","messageId":"188","endLine":29,"endColumn":49},{"ruleId":"185","severity":1,"message":"193","line":29,"column":57,"nodeType":"187","messageId":"188","endLine":29,"endColumn":66},{"ruleId":"185","severity":1,"message":"194","line":33,"column":15,"nodeType":"187","messageId":"188","endLine":33,"endColumn":25},{"ruleId":"185","severity":1,"message":"195","line":34,"column":15,"nodeType":"187","messageId":"188","endLine":34,"endColumn":26},{"ruleId":"179","severity":1,"message":"180","line":36,"column":42,"nodeType":"196","messageId":"182","endLine":36,"endColumn":43,"fix":"197"},{"ruleId":"198","severity":2,"message":"199","line":36,"column":43,"nodeType":"200","messageId":"201","endLine":36,"endColumn":44,"fix":"202"},{"ruleId":"185","severity":1,"message":"203","line":48,"column":19,"nodeType":"187","messageId":"188","endLine":48,"endColumn":28},{"ruleId":"204","severity":2,"message":"205","line":533,"column":29,"nodeType":"206","messageId":"207","endLine":533,"endColumn":68,"suggestions":"208"},{"ruleId":"209","severity":2,"message":"210","line":15,"column":18,"nodeType":"211","messageId":"182","endLine":17,"endColumn":3},{"ruleId":null,"fatal":true,"severity":2,"message":"212","line":58,"column":3},{"ruleId":null,"fatal":true,"severity":2,"message":"212","line":29,"column":3},{"ruleId":null,"fatal":true,"severity":2,"message":"212","line":12,"column":8},{"ruleId":"185","severity":1,"message":"213","line":1,"column":8,"nodeType":"187","messageId":"188","endLine":1,"endColumn":17},{"ruleId":"185","severity":1,"message":"214","line":2,"column":8,"nodeType":"187","messageId":"188","endLine":2,"endColumn":16},{"ruleId":"185","severity":1,"message":"215","line":4,"column":8,"nodeType":"187","messageId":"188","endLine":4,"endColumn":16},{"ruleId":"173","severity":1,"message":"174","line":13,"column":5,"nodeType":"216","messageId":"176","endLine":15,"endColumn":6,"fix":"217"},{"ruleId":"185","severity":1,"message":"218","line":13,"column":10,"nodeType":"187","messageId":"188","endLine":13,"endColumn":19},{"ruleId":"168","severity":1,"message":"169","line":13,"column":16,"nodeType":"170","messageId":"171","endLine":13,"endColumn":19,"suggestions":"219"},{"ruleId":"173","severity":1,"message":"174","line":16,"column":2,"nodeType":"216","messageId":"176","endLine":29,"endColumn":3,"fix":"220"},{"ruleId":"168","severity":1,"message":"169","line":16,"column":23,"nodeType":"170","messageId":"171","endLine":16,"endColumn":26,"suggestions":"221"},{"ruleId":"173","severity":1,"message":"174","line":20,"column":2,"nodeType":"175","messageId":"176","endLine":20,"endColumn":25,"fix":"222"},{"ruleId":"173","severity":1,"message":"174","line":21,"column":2,"nodeType":"175","messageId":"176","endLine":21,"endColumn":24,"fix":"223"},{"ruleId":"173","severity":1,"message":"174","line":22,"column":2,"nodeType":"175","messageId":"176","endLine":22,"endColumn":21,"fix":"224"},{"ruleId":"173","severity":1,"message":"174","line":23,"column":2,"nodeType":"175","messageId":"176","endLine":23,"endColumn":62,"fix":"225"},{"ruleId":"173","severity":1,"message":"174","line":24,"column":5,"nodeType":"175","messageId":"176","endLine":24,"endColumn":27,"fix":"226"},{"ruleId":"209","severity":2,"message":"227","line":23,"column":18,"nodeType":"211","messageId":"182","endLine":25,"endColumn":3},{"ruleId":"168","severity":1,"message":"169","line":32,"column":19,"nodeType":"170","messageId":"171","endLine":32,"endColumn":22,"suggestions":"228"},{"ruleId":"229","severity":2,"message":"230","line":528,"column":9,"nodeType":"231","messageId":"232","endLine":537,"endColumn":10},{"ruleId":"204","severity":2,"message":"205","line":536,"column":13,"nodeType":"206","messageId":"207","endLine":536,"endColumn":61,"suggestions":"233"},{"ruleId":"185","severity":1,"message":"234","line":574,"column":16,"nodeType":"187","messageId":"188","endLine":574,"endColumn":22},{"ruleId":"185","severity":1,"message":"235","line":574,"column":24,"nodeType":"187","messageId":"188","endLine":574,"endColumn":33},{"ruleId":"185","severity":1,"message":"236","line":574,"column":35,"nodeType":"187","messageId":"188","endLine":574,"endColumn":44},{"ruleId":"237","severity":2,"message":"238","line":689,"column":77,"nodeType":"239","messageId":"240","endLine":689,"endColumn":78,"fix":"241"},{"ruleId":"185","severity":1,"message":"242","line":800,"column":19,"nodeType":"187","messageId":"188","endLine":800,"endColumn":32},{"ruleId":"185","severity":1,"message":"243","line":11,"column":7,"nodeType":"187","messageId":"188","endLine":11,"endColumn":15},{"ruleId":"185","severity":1,"message":"244","line":4,"column":11,"nodeType":"239","messageId":"188","endLine":4,"endColumn":23},{"ruleId":"209","severity":2,"message":"245","line":26,"column":48,"nodeType":"211","messageId":"182","endLine":27,"endColumn":2},{"ruleId":"246","severity":2,"message":"247","line":12,"column":22,"nodeType":"248","messageId":"249","endLine":12,"endColumn":58},{"ruleId":"246","severity":2,"message":"247","line":13,"column":23,"nodeType":"248","messageId":"249","endLine":13,"endColumn":60},{"ruleId":"185","severity":1,"message":"250","line":22,"column":7,"nodeType":"187","messageId":"188","endLine":22,"endColumn":15},{"ruleId":"179","severity":1,"message":"180","line":54,"column":17,"nodeType":"181","messageId":"182","endLine":54,"endColumn":18,"fix":"251"},{"ruleId":"252","severity":2,"message":"253","line":272,"column":102,"nodeType":"187","messageId":"254","endLine":272,"endColumn":111,"fix":"255"},{"ruleId":"256","severity":2,"message":"257","line":916,"column":29,"nodeType":"258","messageId":"259","endLine":916,"endColumn":36,"fix":"260"},{"ruleId":"256","severity":2,"message":"261","line":917,"column":29,"nodeType":"258","messageId":"259","endLine":917,"endColumn":38,"fix":"262"},{"ruleId":"256","severity":2,"message":"263","line":918,"column":29,"nodeType":"258","messageId":"259","endLine":918,"endColumn":42,"fix":"264"},{"ruleId":"265","severity":2,"message":"266","line":1107,"column":21,"nodeType":"267","messageId":"268","endLine":1107,"endColumn":26,"fix":"269"},{"ruleId":"265","severity":2,"message":"266","line":1108,"column":26,"nodeType":"267","messageId":"268","endLine":1108,"endColumn":31,"fix":"270"},{"ruleId":"265","severity":2,"message":"266","line":1109,"column":30,"nodeType":"267","messageId":"268","endLine":1109,"endColumn":35,"fix":"271"},{"ruleId":"173","severity":1,"message":"174","line":1172,"column":5,"nodeType":"216","messageId":"176","endLine":1178,"endColumn":6,"fix":"272"},"sort-imports","Imports should be sorted alphabetically.","ImportDeclaration","sortImportsAlphabetically","@typescript-eslint/no-explicit-any","Unexpected any. Specify a different type.","TSAnyKeyword","unexpectedAny",["273","274"],"lines-between-class-members","Expected blank line between class members.","PropertyDefinition","always",{"range":"275","text":"276"},{"range":"277","text":"276"},"comma-dangle","Unexpected trailing comma.","Property","unexpected",{"range":"278","text":"279"},["280","281"],"@typescript-eslint/no-unused-vars","'creatorType' is defined but never used.","Identifier","unusedVar","'creatorName' is defined but never used.","'itemIDs' is defined but never used.","'getQIDs' is defined but never used.","'includingCitations' is assigned a value but never used.","'overwrite' is assigned a value but never used.","'unique_ids' is assigned a value but never used.","'id_mappings' is assigned a value but never used.","ObjectExpression",{"range":"282","text":"283"},"array-bracket-spacing","There should be no space before ']'.","ArrayExpression","unexpectedSpaceBefore",{"range":"284","text":"285"},"'sourceIds' is assigned a value but never used.","@typescript-eslint/no-floating-promises","Promises must be awaited, end with a call to .catch, end with a call to .then with a rejection handler or be explicitly marked as ignored with the `void` operator.","ExpressionStatement","floatingVoid",["286"],"@typescript-eslint/no-empty-function","Unexpected empty static method 'getDOI'.","FunctionExpression","Parsing error: '>' expected.","'Citations' is defined but never used.","'Wikicite' is defined but never used.","'Wikidata' is defined but never used.","MethodDefinition",{"range":"287","text":"276"},"'item' is defined but never used.",["288","289"],{"range":"290","text":"276"},["291","292"],{"range":"293","text":"276"},{"range":"294","text":"276"},{"range":"295","text":"276"},{"range":"296","text":"276"},{"range":"297","text":"276"},"Unexpected empty static method 'getOCC'.",["298","299"],"no-negated-condition","Unexpected negated condition.","IfStatement","unexpectedNegated",["300"],"'method' is defined but never used.","'fetchDOIs' is defined but never used.","'fetchQIDs' is defined but never used.","no-trailing-spaces","Trailing spaces not allowed.","Program","trailingSpace",{"range":"301","text":"285"},"'citationIndex' is defined but never used.","'CiteProc' is defined but never used.","'AddonManager' is defined but never used.","Unexpected empty function.","@typescript-eslint/no-var-requires","Require statement not part of import statement.","CallExpression","noVarReqs","'entities' is assigned a value but never used.",{"range":"302","text":"303"},"newline-per-chained-call","Expected line break before `.toString`.","expected",{"range":"304","text":"276"},"dot-notation","[\"notes\"] is better written in dot notation.","Literal","useDot",{"range":"305","text":"306"},"[\"seeAlso\"] is better written in dot notation.",{"range":"307","text":"308"},"[\"attachments\"] is better written in dot notation.",{"range":"309","text":"310"},"arrow-parens","Expected parentheses around arrow function argument.","ArrowFunctionExpression","expectedParens",{"range":"311","text":"312"},{"range":"313","text":"312"},{"range":"314","text":"312"},{"range":"315","text":"276"},{"messageId":"316","fix":"317","desc":"318"},{"messageId":"319","fix":"320","desc":"321"},[413,413],"\n",[439,439],[998,1016],"zotero\r\n        }",{"messageId":"316","fix":"322","desc":"318"},{"messageId":"319","fix":"323","desc":"321"},[1502,1506],"} ]",[1504,1505],"",{"messageId":"324","fix":"325","desc":"326"},[381,381],{"messageId":"316","fix":"327","desc":"318"},{"messageId":"319","fix":"328","desc":"321"},[464,464],{"messageId":"316","fix":"329","desc":"318"},{"messageId":"319","fix":"330","desc":"321"},[498,498],[524,524],[549,549],[571,571],[634,634],{"messageId":"316","fix":"331","desc":"318"},{"messageId":"319","fix":"332","desc":"321"},{"messageId":"324","fix":"333","desc":"326"},[26190,26191],[1666,1708],"null\r\n    // tags: ['Zotero_WikiCite']\r\n}",[11918,11918],[40380,40389],".notes",[40419,40430],".seeAlso",[40460,40475],".attachments",[47604,47609],"(claim)",[47652,47657],[47704,47709],[49690,49690],"suggestUnknown",{"range":"334","text":"335"},"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct.","suggestNever",{"range":"334","text":"336"},"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of.",{"range":"337","text":"335"},{"range":"337","text":"336"},"floatingFixVoid",{"range":"338","text":"339"},"Add void operator to ignore.",{"range":"340","text":"335"},{"range":"340","text":"336"},{"range":"341","text":"335"},{"range":"341","text":"336"},{"range":"342","text":"335"},{"range":"342","text":"336"},{"range":"343","text":"344"},[319,322],"unknown","never",[1039,1042],[22832,22871],"void citation.autoLink(matchers[libraryID]);",[398,401],[441,444],[899,902],[20126,20174],"void Citations.syncItemCitationsWithWikidata([this]);"]